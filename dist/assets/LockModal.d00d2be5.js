var _=(e,c,a)=>new Promise((d,s)=>{var m=o=>{try{r(a.next(o))}catch(n){s(n)}},t=o=>{try{r(a.throw(o))}catch(n){s(n)}},r=o=>o.done?d(o.value):Promise.resolve(o.value).then(m,t);r((a=a.apply(e,c)).next())});import{aE as b,a as w,e as y,c as $,i as x,h as f,aG as u,o as F,l as L,B as h,k as l,s as p,t as g,q as k,C as M,aH as S}from"./index.314cb164.js";import{B as I,b as N}from"./index.c6f2c71e.js";import{B as R,t as P}from"./useForm.15613cdc.js";import{u as U}from"./lock.2900f517.js";import{h as V}from"./header.d801b988.js";import"./useWindowSizeFn.871352f3.js";import"./FullscreenOutlined.be23287c.js";import"./index.05a83db7.js";import"./index.d86be4eb.js";import"./_baseIteratee.fd1a2cd7.js";import"./get.96830a59.js";import"./useSize.7ea8df22.js";import"./index.f3ab6787.js";import"./index.b5d67dff.js";import"./index.0919dd1a.js";import"./index.f71492b4.js";import"./index.30d3c472.js";import"./index.f58a858b.js";import"./eagerComputed.40a2d445.js";import"./transButton.e721f95b.js";import"./useRefs.57282ad5.js";import"./download.79fb128a.js";import"./index.1194be5e.js";import"./index.eae0d10d.js";import"./uniqBy.8ff2060d.js";const q=w({name:"LockModal",components:{BasicModal:I,BasicForm:R},setup(){const{t:e}=y(),{prefixCls:c}=$("header-lock-modal"),a=x(),d=U(),s=f(()=>{var i;return(i=a.getUserInfo)==null?void 0:i.realName}),[m,{closeModal:t}]=N(),[r,{validateFields:o,resetFields:n}]=P({showActionButtonGroup:!1,schemas:[{field:"password",label:e("layout.header.lockScreenPassword"),colProps:{span:24},component:"InputPassword",required:!0}]});function v(){return _(this,null,function*(){const C=(yield o()).password;t(),d.setLockInfo({isLock:!0,pwd:C}),yield n()})}const B=f(()=>{const{avatar:i}=a.getUserInfo;return i||V});return{t:e,prefixCls:c,getRealName:s,register:m,registerForm:r,handleLock:v,avatar:B}}}),D=["src"];function G(e,c,a,d,s,m){const t=u("BasicForm"),r=u("a-button"),o=u("BasicModal");return F(),L(o,S({footer:null,title:e.t("layout.header.lockScreen")},e.$attrs,{class:e.prefixCls,onRegister:e.register}),{default:h(()=>[l("div",{class:p(`${e.prefixCls}__entry`)},[l("div",{class:p(`${e.prefixCls}__header`)},[l("img",{src:e.avatar,class:p(`${e.prefixCls}__header-img`)},null,10,D),l("p",{class:p(`${e.prefixCls}__header-name`)},g(e.getRealName),3)],2),k(t,{onRegister:e.registerForm},null,8,["onRegister"]),l("div",{class:p(`${e.prefixCls}__footer`)},[k(r,{type:"primary",block:"",class:"mt-2",onClick:e.handleLock},{default:h(()=>[M(g(e.t("layout.header.lockScreenBtn")),1)]),_:1},8,["onClick"])],2)],2)]),_:1},16,["title","class","onRegister"])}var me=b(q,[["render",G]]);export{me as default};
