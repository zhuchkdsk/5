var _=Object.defineProperty;var f=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var g=(e,t,o)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,p=(e,t)=>{for(var o in t||(t={}))v.call(t,o)&&g(e,o,t[o]);if(f)for(var o of f(t))w.call(t,o)&&g(e,o,t[o]);return e};var u=(e,t,o)=>new Promise((l,n)=>{var d=s=>{try{a(o.next(s))}catch(i){n(i)}},m=s=>{try{a(o.throw(s))}catch(i){n(i)}},a=s=>s.done?l(s.value):Promise.resolve(s.value).then(d,m);a((o=o.apply(e,t)).next())});import{B as U,b}from"./index.c6f2c71e.js";import{B as C,t as $}from"./useForm.15613cdc.js";import{U as k,s as y,a as E}from"./data.c645d3fc.js";import{aE as R,a as S,w as O,m as c,h as P,aG as B,o as G,l as T,B as V,q,aH as A}from"./index.314cb164.js";import"./useWindowSizeFn.871352f3.js";import"./FullscreenOutlined.be23287c.js";import"./index.05a83db7.js";import"./index.d86be4eb.js";import"./_baseIteratee.fd1a2cd7.js";import"./get.96830a59.js";import"./useSize.7ea8df22.js";import"./index.f3ab6787.js";import"./index.b5d67dff.js";import"./index.0919dd1a.js";import"./index.f71492b4.js";import"./index.30d3c472.js";import"./index.f58a858b.js";import"./eagerComputed.40a2d445.js";import"./transButton.e721f95b.js";import"./useRefs.57282ad5.js";import"./download.79fb128a.js";import"./index.1194be5e.js";import"./index.eae0d10d.js";import"./uniqBy.8ff2060d.js";const H=S({name:"EditModal",components:{BasicModal:U,BasicForm:C},emits:["success","register"],setup(e,{emit:t}){const o=O(!0),[l,{setFieldsValue:n,updateSchema:d,resetFields:m,validate:a}]=$({labelWidth:100,baseColProps:{span:24},schemas:k,showActionButtonGroup:!1,actionColOptions:{span:23}}),[s,{setModalProps:i,closeModal:F}]=b(r=>u(this,null,function*(){m(),i({loading:!1}),o.value=!!(r!=null&&r.isUpdate),c(o)&&n(p({},r.record))})),h=P(()=>c(o)?"\u7F16\u8F91":"\u65B0\u589E");function M(){return u(this,null,function*(){try{const r=yield a();i({loading:!0}),c(o)?yield E(p({},r)):yield y(p({},r)),F(),t("success",{isUpdate:c(o),values:p({},r)})}finally{i({loading:!1})}})}return{registerModal:s,registerForm:l,getTitle:h,handleSubmit:M}}});function I(e,t,o,l,n,d){const m=B("BasicForm"),a=B("BasicModal");return G(),T(a,A(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,onOk:e.handleSubmit}),{default:V(()=>[q(m,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var uo=R(H,[["render",I]]);export{uo as default};
