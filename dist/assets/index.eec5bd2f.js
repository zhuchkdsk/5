import{i,x as a,eF as f}from"./index.314cb164.js";const c=i(),S=a(c.getUserInfo),u=new Map;var r;const g=a({server:((r=c.getBaseOption.systems)==null?void 0:r.wsSocket)||"",sendValue:JSON.stringify({type:"login",data:"234",uid:S.id,role:"user"}),interval:1e3,state:!1});function d(){return f(g.server,{autoReconnect:!0,heartbeat:{message:JSON.stringify({type:"ping"}),interval:1e4},onMessage:(e,s)=>{if(s.data!=="ping"){console.debug("[WebSocket] -----\u63A5\u6536\u6D88\u606F-------",s.data);try{const t=JSON.parse(s.data),n=u.get(t.type);typeof n=="function"&&n(t)}catch(t){console.error("[WebSocket] data\u89E3\u6790\u5931\u8D25\uFF1A",t)}}}})}function F(o,e){u.has(e)||(typeof e=="function"?u.set(o,e):console.debug("[WebSocket] \u6DFB\u52A0 WebSocket \u6D88\u606F\u76D1\u542C\u5931\u8D25\uFF1A\u4F20\u5165\u7684\u53C2\u6570\u4E0D\u662F\u4E00\u4E2A\u65B9\u6CD5"))}export{F as o,d as w};
